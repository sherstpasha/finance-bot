## üìä Telegram –ë–æ—Ç –¥–ª—è –£—á—ë—Ç–∞ –§–∏–Ω–∞–Ω—Å–æ–≤

–õ–∏—á–Ω—ã–π Telegram-–±–æ—Ç –Ω–∞ Python –¥–ª—è —É—á—ë—Ç–∞ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤.
–•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–π Google –¢–∞–±–ª–∏—Ü–µ.

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Python 3.10+
* –ê–∫–∫–∞—É–Ω—Ç Google Cloud
* –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ API:

  * Google Sheets API
  * Google Drive API
* Telegram Bot Token (–æ—Ç [@BotFather](https://t.me/BotFather))

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -r requirements.txt
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ `service_account.json`

#### 1.1 –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ ¬´–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç¬ª
3. –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `FinanceBot`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

#### 1.2 –í–∫–ª—é—á–∏—Ç–µ API

–û—Ç–∫—Ä–æ–π—Ç–µ: **API –∏ —Å–µ—Ä–≤–∏—Å—ã ‚Üí –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞**, –∏ –≤–∫–ª—é—á–∏—Ç–µ:

* **Google Sheets API**
* **Google Drive API**

#### 1.3 –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **IAM –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã**
2. –ù–∞–∂–º–∏—Ç–µ ¬´–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç¬ª
3. –£–∫–∞–∂–∏—Ç–µ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `finance-bot`
4. –î–∞–π—Ç–µ —Ä–æ–ª—å **–†–µ–¥–∞–∫—Ç–æ—Ä (Editor)**
5. –ó–∞–≤–µ—Ä—à–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ

#### 1.4 –°–∫–∞—á–∞–π—Ç–µ JSON-–∫–ª—é—á

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
2. –í–∫–ª–∞–¥–∫–∞ **–ö–ª—é—á–∏ ‚Üí –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á ‚Üí –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á ‚Üí JSON**
3. –°–∫–∞—á–∞–π—Ç–µ –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª –≤ `service_account.json`, –ø–æ–ª–æ–∂–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

---

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```env
BOT_TOKEN=your-telegram-bot-token-here
GOOGLE_CREDENTIALS=service_account.json
OWNER_EMAIL=your-email@gmail.com
ALLOWED_USER_ID=123456789
```

> `ALLOWED_USER_ID` ‚Äî –≤–∞—à Telegram user ID. –¢–æ–ª—å–∫–æ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–∞. –£–∑–Ω–∞—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ, –Ω–∞–ø–∏—Å–∞–≤ —Å–∞–º–æ–º—É –±–æ—Ç—É –∏ –¥–æ–±–∞–≤–∏–≤ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥ `message.from_user.id`.

---

## üöÄ –ó–∞–ø—É—Å–∫

```bash
python bot.py
```

–ë–æ—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:

* —Å–æ–∑–¥–∞—Å—Ç Google –¢–∞–±–ª–∏—Ü—É
* –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –¥–æ—Å—Ç—É–ø –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π email
* –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å—Å—ã–ª–∫—É –≤ Telegram

---

## üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**, ID –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑–∞–Ω –≤ `.env`
* –í—Å–µ –∑–∞–ø–∏—Å–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Google –¢–∞–±–ª–∏—Ü–µ
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

  * –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
  * –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π
  * –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –∑–∞–ø–∏—Å–µ–π
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç FSM (Finite State Machine) –¥–ª—è –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
